<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Registration Form</title>
  <link rel="stylesheet" href="regstyles.css" />
</head>
<body>
<h1>Registration Form</h1>
<p>Please fill out this form with the required information</p>
<form action='http://localhost:3000/aggiungiDottore' method="post">
  <fieldset>
    <label>Enter Your First Name: <input type="text" id="name" name="name" required /></label>
    <label>Enter Your Last Name: <input type="text" id="surname" name="surname" required /></label>
    <label>Input your age (years): <input type="number" id="eta" name="eta" min="18" max="120" /></label>
    <label>Enter Your Institutional Email: <input type="email" id="email" name="emailAddress" required /></label>
    <label>Create a New Password: <input type="password" id="password" name="password"  required /></label>
  </fieldset>

  <button type="submit" class="buttonclass" id="myButton"> Submit </button>
</form>

<script>
  const getBtn = document.getElementById('myButton')
  // Ottieni i valori di input
  const value1 = document.getElementById('name').value;
  const value2 = document.getElementById('surname').value;
  const value3 = document.getElementById('eta').value;
  const value4 = document.getElementById('emailAddress').value;
  const value5 = document.getElementById('password').value;

  const baseurl='http://localhost:3000/aggiungiDottore';
  getBtn.addEventListener('click',postReg)
  async function postReg(e){
    e.preventDefault()
    const res = await fetch(baseurl,
            {
              method: 'POST',
              headers:{
                "Content-Type":"application/json"
              },
              body: JSON.stringify({
                name: value1,
                surname: value2,
                eta: value3,
                emailAddress: value4,
                password: value5
              })
            })
    res.render('login.html');
  }


</script>
</body>
</html>


